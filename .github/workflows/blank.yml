name: 'Terraform'

on:
  push:
    branches: [ "main" ]
  pull_request:

permissions:
  contents: read
  id-token: 'write'

jobs:
  job_a:
    runs-on: ubuntu-latest
    outputs: # declare outputs from this job
      greeting: ${{ steps.set_greeting.outputs.greeting }}
    steps:
      - id: set_greeting
        run: echo "greeting=Hello from Job A" >> $GITHUB_OUTPUT

  job_b:
    needs: job_a
    runs-on: ubuntu-latest
    steps:
      - run: echo "${{ needs.job_a.outputs.greeting }}"

